{% extends 'base.html' %}

{% block content %}
  <nav class="nav d-flex justify-content-between mb-2">
    {% for category in categories %}
      <a class="p-2 text-muted" href="{% url 'post_by_category' category.id %}">{{ category.category_name }}</a>
    {% empty %}
      <span class="text-muted">No categories</span>
    {% endfor %}
  </nav>
  <h3 class="text-uppercase text-warning" style="letter-spacing: 2px;">Category - {{ category.category_name }}</h3>
  <div class="row mb-2">
    {% if posts %}
      {% for post in posts %}
        <div class="col-md-6">
          <div class="card border-0">
            <div class="card-body">
              <h3>{{ post.title }}</h3>
              {% comment %} <small class="mb-1 text-muted">{{ post.created_at|date:'M d, Y' }} | {{ post.author.username }}</small> {% endcomment %}
              <small class="mb-1 text-muted">{{ post.created_at|timesince }} ago | {{ post.author.username }}</small>
              <p class="card-text">{{ post.short_description|truncatewords:25 }}</p>
            </div>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <p>No posts available in this category.</p>
    {% endif %}
  </div>
{% endblock %}
